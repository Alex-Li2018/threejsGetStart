# OpenGL ES着色器语言（GLSL ES）

GLSL ES (OpenGL Shading Language for Embedded Systems)是OpenGL ES平台上使用的着色器语言。它是一种高级着色器语言，用于编写着色器程序，用于控制OpenGL ES渲染管线中的图形渲染和图像处理过程。

GLSL ES可以在移动设备和嵌入式设备等资源受限的环境中运行。它支持着色器的高度可编程性，允许开发人员自定义渲染管线，以实现更高质量的渲染效果和更好的图形性能。

## 注释

与javascript一致

## 数据值类型
GLSL支持两种数据值类型
- 数据值类型： 整形和浮点型
- 布尔值类型： true false
不支持字符串类型

## 变量
- 只包含a-z A-Z 0-9 和下划线_
- 变量名的首字母不能是数字
- 不是是关键字以及保留字段

## 强类型
<类型> <变量名>

## 基本类型
|类型|描述|
|---|---|
|float|单精度浮点型|
|int|整形|
|bool|布尔型|

### 类型转换
|转换|函数|描述|
|---|---|---|
|转换为整型|int(float) / int(bool)|浮点数的小数部分去掉转换为整形, ture 1 false 0|
|转换为浮点型|float(int) / float(bool)|浮点数的小数部分去掉转换为整形, true 1.0 false 0.0|
|转换为布尔值|bool(int) / bool(float)|0.0 false 其他true； 0 false 其他 true|

## 矢量与矩阵

|类别|GLSL ES 数据类型|描述|
|---|---|---|
|矢量|vec2 vec3 vec4</br> ivec2 ivec3 ivec4</br>bvec2 bvec3 bvec4|具有2，3，4个浮点数的元素矢量</br>具有2，3，4个整数的元素矢量</br>具有2，3，4个布尔值的元素矢量|
|矩阵|mat2 mat3 mat4|2 * 2， 3 * 3， 4 * 4的浮点数元素矩阵|

## 赋值与构造

赋值运算的=左右两边的类型必须一致。

- 矢量构造函数
```js
vec4 postion = vec4(1.0, 2.0, 3.0, 4.0)
vec3 v3 = vec3(1.0, 2.0, 3.0)
// 使用v3的前两个分量
vec2 v2 = vec2(v3) // （1.0， 2.0）
vec4 v4 = vec4(1.0) // (1.0, 1.0, 1.0, 1.0)
vec4 v4b = vec4(v2, v4) // (1.0, 2.0, 1.0, 1.0)
```

- 矩阵构造函数
矩阵中的元素按照列主序排列

```js
mat4 m4 = mat4(
    1.0, 2.0, 3.0, 4.0,
    5.0, 6.0, 7.0, 8.0,
    9.0, 10.0, 11.0, 12.0,
    13.0, 14.0, 15.0 16.0
)
```
矩阵如下：
$\begin{bmatrix}
 1.0, 5.0, 9.0, 13.0 \\
 2.0, 6.0, 10.0, 14.0 \\
 3.0, 7.0, 11.0, 15.0 \\
 4.0, 8.0, 12.0, 16.0 \\
 \end{bmatrix} $

